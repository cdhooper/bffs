#
# Copyright 2018 Chris Hooper <amiga@cdh.eebugs.com>
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted so long as any redistribution retains the
# above copyright notice, this condition, and the below disclaimer.
#
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER AND CONTRIBUTORS "AS IS"
# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
# ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
# POSSIBILITY OF SUCH DAMAGE.
#

#
# Top level Makefile to build BFFS Filesystem and all associated tools
#
DIRS=bffstool dcp disklabel dump dumpfs chmod chown edumpfs fs fsck ln ls mknod newfs rdb restore test touch tunefs umount
DUMMYDIRS=$(DIRS:"*":"*.dummy")
CLEANDIRS=$(DIRS:"*":"*.clean")

all: $(DUMMYDIRS)

clean: $(CLEANDIRS)

$(DUMMYDIRS) : $(DUMMYDIRS)
	cd %(left:*.dummy:*)
	@dmake -q
	@cd

$(CLEANDIRS) : $(CLEANDIRS)
	cd %(left:*.clean:*)
	@dmake -q clean
	@cd
